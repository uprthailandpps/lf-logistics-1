<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LF Saraburi</title>
    <style>
        body {
        display: flex;
        height: 100vh;
        overflow: hidden;
        margin: 0;
        }

        div {
        display: inline-block;
        position: relative;
        }

        #left {
        width: 320px;
        height: 100%;
        background-color: white;
        top: 0;
        left: 0;
        border-right: 1px solid lightgrey;
        transition: width 0.5s ease-in-out;
        }

        #left.hidden {
        display: none;
        }

        #div-footer{
        height: 150px;
        width: 319px;
        bottom: 0;
        left: 0;
        padding-bottom: 10px;
        padding-left: 3px;
        padding-right: 2px;
        }
        #div-contact{
        background-color: white;
        height: 100px;
        width: 300px;
        margin-top: 50px;
        padding-left: 20px;
        position: fixed;
        bottom: 0;
        left: 0;
        }
        #div-contact p {
        line-height: 0.3em;
        text-align: left;
        vertical-align: bottom;
        }
        p{
        font-family: Arial, sans-serif;
        font-size: 12px;
        font-weight: 100;
        color: black;
        }

        #middle {
        height: 100%;
        width: 10px;
        position: absolute;
        top: 0;
        left: 321px;
        z-index: 2;
        display: flex;
        justify-content: center;
        align-items: center;
        }

        #middle.move{
        left: 0;
        }

        #toggle {
        height: 70px;
        width: 8px;
        border: 0.5px solid rgb(211, 211, 211);
        border-radius: 0px 10px 10px 0px;
        background-color: lightgray(165, 165, 165);
        color: rgb(112, 112, 112);
        font-size: 10px;
        padding: 5px 5px;
        cursor: pointer;
        display: flex;
        justify-content: center;
        align-items: center;
        text-align: center;
        }


        #toggle:hover {
        background-color: rgb(105, 105, 105);
        color: white;
        }

        #right {
        width: calc(100% - 320px);
        height: 100%;
        position: absolute;
        top: 0;
        right: 0;
        z-index: 1;
        transition: opacity 0.5s ease-in-out;
        }

        #right.expanded {
        width: 100%;
        }
        
        .iframe-overlay{
        width: 50px;
        height: 50px;
        background-color: rgba(0, 0, 0, 0);
        position: absolute;
        z-index: 1;
        top: 0;
        right: 0;
        }
        
        #sheet{
        height: 100%;
        width: 100%;
        }

    </style>
</head>

<body>
  <div id="left">
    <iframe id="form" src="https://docs.google.com/forms/d/e/1FAIpQLSdjAvLuQy6jwCUwgf1NFe5HevbRVcvI5deEBjuxona5hXFHLA/viewform?embedded=true" width="100%" height="100%" frameborder="0" marginheight="0" marginwidth="0">Loadingâ€¦</iframe>
  </div>
  <div id="middle">
    <button id="toggle">
    </button>
  </div>
  <div id="right">
    <div class="iframe-overlay" id="overlay"></div>
    <iframe id="sheet" frameborder="0" scrolling="yes" src="https://docs.google.com/spreadsheets/d/1D9vWbqXRerfXZiIbXogAFgpk3KVT4J6wsUPchaQckjc/edit?usp=sharing&amp;widget=false&amp;" allowfullscreen="">
    </iframe>
  </div>

  <script>
    document.body.style.overflow = "hidden";
    const toggleBtn = document.getElementById("toggle");
    const leftDiv = document.getElementById("left");
    const middleDiv = document.getElementById("middle");
    const rightDiv = document.getElementById("right");

    toggleBtn.addEventListener("click", () => {
    leftDiv.classList.toggle("hidden");
    middleDiv.classList.toggle("move");
    rightDiv.classList.toggle("expanded");
    });

    var currentDate = new Date();
    var formattedDate = currentDate.toISOString().split('T')[0];
    var prefilledLink = ' https://docs.google.com/forms/d/e/1FAIpQLSdjAvLuQy6jwCUwgf1NFe5HevbRVcvI5deEBjuxona5hXFHLA/viewform?usp=pp_url&entry.1725689597=' + formattedDate + '&entry.1071237925=LF+Saraburi&entry.242987965=%E0%B8%AA%E0%B8%A3%E0%B8%B0%E0%B8%9A%E0%B8%B8%E0%B8%A3%E0%B8%B5&entry.1300212247=%E0%B8%9E%E0%B8%B2%E0%B9%80%E0%B8%A5%E0%B8%97%E0%B9%84%E0%B8%A1%E0%B9%89+4-way';
    var iframe = document.getElementById('form');
    iframe.src = prefilledLink;
      
    if (/Android|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {
                  document.getElementById("right").style.display = "none";
                  document.getElementById("middle").style.display = "none";
                  document.getElementById("left").style.width = "100%";
                }
    
    var allowedRedirectURL = 'https://uprthailandpps.github.io/lf-logistics/';
                if (document.referrer !== allowedRedirectURL) {
                    alert('You need to log in first.');
                    window.location.href = allowedRedirectURL;
                }
   

  </script>
</body>
</html>
